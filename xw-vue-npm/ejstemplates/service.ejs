import Ajax from "@util/http.js";
import KEYS form "@constant/index.js";

const map = {
    <%_ data.map.forEach(function(row){ -%>
      <%= row.name %>: <%= row.url%>,
   <%_ _%><% }) -%>
}

export default {
    save(model) {
        return model.id ? this.update(model) : this.create(model);
    },
    <%_ data.fns.forEach(function(row){ -%>
        <%= row.fnName %>(model){
            let params = {};
        <%_ if (row.isEnum) { -%>
            return <%= row.url%>
        <%_ _%><% }else { -%>
            return Ajax.<%= isGetReq ? 'get' : 'post'%>(map.<%= row.mapKey%>, params)
            <%_ _%><% } -%>
        },
    <%_ _%><% }) -%>
}